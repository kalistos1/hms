{% load static %}

<!doctype html>
<html lang="en">
    {% load pwa %}
   
    <head>
        {% progressive_web_app_meta %}

        <meta charset="utf-8">
        <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
        <link rel="shortcut icon" href="assets/img/boutique hotel .png" type="image/x-icon">

        <script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
        <script src="https://unpkg.com/sweetalert2@7.8.2/dist/sweetalert2.all.js"></script>
        <script src="https://cdn.jsdelivr.net/npm/sweetalert2@11"></script>
        <script src="https://unpkg.com/sweetalert/dist/sweetalert.min.js"></script>
        <meta name="csrf-token" content="{{ csrf_token }}">

        <link rel="manifest" href="{% static 'manifest.json' %}">

        <link href="{% static 'frontpage/website_assets/css/animate.min.css' %}" rel="stylesheet">
        <link href="{% static 'frontpage/website_assets/plugins/bootstrap/css/bootstrap.min.css' %}" rel="stylesheet">
        <link href="{% static 'frontpage/website_assets/plugins/themify/themify-icons.css' %}" rel="stylesheet">
        <link href="{% static 'frontpage/website_assets/plugins/fontawesome/css/all.min.css' %}" rel="stylesheet">
        <link href="{% static 'frontpage/website_assets/plugins/owl-carousel/dist/assets/owl.carousel.min.css' %}" rel="stylesheet">
        <link href="{% static 'frontpage/assets/sweetalert/sweetalert.css" rel="stylesheet' %}" type="text/css" />
        <link href="{% static 'frontpage/website_assets/plugins/owl-carousel/dist/assets/owl.theme.default.min.css' %}" rel="stylesheet">
        <link href="{% static 'frontpage/website_assets/plugins/select2/dist/css/select2.min.css' %}" rel="stylesheet">
        <link href="{% static 'frontpage/website_assets/plugins/select2/dist/css/select2-bootstrap.min.css' %}" rel="stylesheet">
        <link href="{% static 'frontpage/website_assets/plugins/daterangepicker/daterangepicker.css' %}" rel="stylesheet">
        <link href="{% static 'frontpage/website_assets/plugins/fancybox/dist/jquery.fancybox.min.css' %}" rel="stylesheet">
        <script src="{% static 'frontpage/website_assets/plugins/jQuery/jquery-3.5.1.min.js' %}"></script>
        <link href="https://fonts.googleapis.com/css2?family=Caveat:wght@400;700&family=Playfair+Display:wght@400;400i;700;700i;900;900i&family=Sarabun:wght@100;100i;200;200i;300;300i;400;400i;500;500i;600;600i;700;700i;800&display=swap" rel="stylesheet" />
        <link href="{% static 'frontpage/website_assets/css/style30f4.css' %}" rel="stylesheet">
        <script src="https://cdnjs.cloudflare.com/ajax/libs/tailwindcss/2.2.19/lib.min.js" integrity="sha512-E+PSUBb5DS+jAq7VHBWB6kCzS9nEZLvv0vA2oNZmpHXcK7y0Ta3itt0YNPnB4n19eYzJcI/TlPeLl943d2kW5g==" crossorigin="anonymous" referrerpolicy="no-referrer"></script>
        <title>{% block title %} {% endblock %}</title>

        <style>
            /* Styling the install button */
            #install-button {
                display: none;
                position: fixed;
                bottom: 20px;
                right: 20px;
                background: linear-gradient(135deg, #0A0302, #d32f2f);
                color: #fff;
                border: none;
                border-radius: 50px;
                padding: 15px 30px;
                font-size: 18px;
                font-weight: bold;
                cursor: pointer;
                box-shadow: 0px 4px 6px rgba(0, 0, 0, 0.1);
                transition: all 0.3s ease;
                z-index: 1000;
            }
    
            /* Hover effect */
            #install-button:hover {
                transform: translateY(-5px);
                box-shadow: 0px 8px 12px rgba(0, 0, 0, 0.2);
            }
    
            /* Pop-up animation */
            #install-button.pop {
                animation: pop-in 0.5s ease-out;
            }
    
            @keyframes pop-in {
                0% {
                    transform: scale(0.8);
                    opacity: 0;
                }
                100% {
                    transform: scale(1);
                    opacity: 1;
                }
            }
    
            /* Responsive adjustments */
            @media (max-width: 768px) {
                #install-button {
                    padding: 10px 20px;
                    font-size: 16px;
                }
            }
    
            @media (max-width: 480px) {
                #install-button {
                    padding: 8px 16px;
                    font-size: 14px;
                }
            }
        </style>
    </head>
    <body>

        {% comment %} include nav bar {% endcomment %}
        {% include 'partials/_nav.html' %}

        {% block content %}

        {% endblock %}

    {% comment %} include footer  {% endcomment %}

        {% include 'partials/_footer.html' %}
         {% comment %} plugins thirdparty {% endcomment %}
        <script src="{% static 'htmx.js' %}" defer></script>
        <script src="{% static 'frontpage/plugins/scripts/custom.js' %}"></script>
        <script src="{% static 'frontpage/plugins/scripts/jquery-3.4.1.min.js' %}"></script>
        <script src="{% static 'frontpage/plugins/scripts/chosen.min.js' %}"></script>
        <script src="{% static 'frontpage/plugins/scripts/slick.min.js' %}"></script>
        <script src="{% static 'frontpage/plugins/scripts/rangeslider.min.js' %}"></script>
        <script src="{% static 'frontpage/plugins/scripts/magnific-popup.min.js' %}"></script>
        <script src="{% static 'frontpage/plugins/scripts/jquery-ui.min.js' %}"></script>
        <script src="{% static 'frontpage/plugins/scripts/bootstrap-select.min.js' %}"></script>
        <script src="{% static 'frontpage/plugins/scripts/mmenu.js' %}"></script>
        <script src="{% static 'frontpage/plugins/scripts/tooltips.min.js' %}"></script>
        <script src="{% static 'frontpage/plugins/scripts/color_switcher.js' %}"></script>
        <script src="{% static 'frontpage/plugins/scripts/jquery_custom.js' %}"></script>
        <script src="{% static 'frontpage/plugins/scripts/typed.js' %}"></script>
        <script src="{% static 'frontpage/plugins/scripts/infobox.min.js' %}"></script>
        <script src="{% static 'frontpage/plugins/scripts/markerclusterer.js' %}"></script>
        <script src="{% static 'frontpage/plugins/scripts/datedropper.js' %}"></script>
        <script src="{% static 'frontpage/plugins/scripts/quantityButtons.js' %}"></script>
        <script src="{% static 'frontpage/plugins/scripts/moment.min.js' %}"></script>
        <script src="{% static 'frontpage/plugins/scripts/daterangepicker.js' %}"></script>
        <script src="{% static 'frontpage/plugins/scripts/moment.min.js' %}"></script>
        <script src="{% static 'frontpage/plugins/scripts/daterangepicker.js' %}"></script>



        <script src="{% static 'frontpage/website_assets/plugins/bootstrap/js/popper.min.js' %}"></script>
        <script src="{% static 'frontpage/website_assets/plugins/bootstrap/js/bootstrap.min.js' %}"></script>
        <script src="{% static 'frontpage/website_assets/plugins/owl-carousel/dist/owl.carousel.min.js' %}"></script>
        <script src="{% static 'frontpage/website_assets/plugins/select2/dist/js/select2.min.js' %}"></script>
        <script src="{% static 'frontpage/website_assets/plugins/daterangepicker/moment.min.js' %}"></script>
        <script src="{% static 'frontpage/website_assets/plugins/daterangepicker/daterangepicker.js' %}"></script>
        <script src="{% static 'frontpage/website_assets/plugins/isotope/isotope.pkgd.js' %}"></script>
        <script src="{% static 'frontpage/website_assets/plugins/fancybox/dist/jquery.fancybox.min.js' %}"></script>
        <script src="{% static 'frontpage/website_assets/plugins/theia-sticky-sidebar/dist/ResizeSensor.min.js' %}"></script>
        <script src="{% static 'frontpage/website_assets/plugins/theia-sticky-sidebar/dist/theia-sticky-sidebar.min.js' %}"></script>
        <script src="{% static 'frontpage/website_assets/plugins/numscroller/numscroller-1.0.js' %}"></script>
        <script src="{% static 'frontpage/assets/sweetalert/sweetalert.min.js" type="text/javascript' %}"></script>
        <script src="{% static 'frontpage/website_assets/js/script.js' %}"></script>
        <script src="{% static 'frontpage/website_assets/js/subscriber_email.js' %}"></script>



        <script>
            document.addEventListener('htmx:configRequest', (event) => {
                const token = document.querySelector('meta[name="csrf-token"]').content;
                if (event.detail.headers) {
                    event.detail.headers['X-CSRFToken'] = token;
                }
            });
        </script>

    

        <script>
            function initAutocomplete() {
                var input = document.getElementById('autocomplete-input');
                var autocomplete = new google.maps.places.Autocomplete(input);

                autocomplete.addListener('place_changed', function() {
                    var place = autocomplete.getPlace();
                    if (!place.geometry) {
                        window.alert("No details available for input: '" + place.name + "'");
                        return;
                    }
                });

                if ($('.main-search-input-item')[0]) {
                    setTimeout(function() {
                        $(".pac-container").prependTo("#autocomplete-container");
                    }, 300);
                }
            }
        </script>
        <script>
            $(function() {

                var start = moment().subtract(0, 'days');
                var end = moment().add(2, 'days');

                function cb(start, end) {
                    $('#booking-date-search').html(start.format('MMMM D, YYYY') + ' - ' + end.format('MMMM D, YYYY'));
                }
                cb(start, end);
                $('#booking-date-search').daterangepicker({
                    "opens": "right",
                    "autoUpdateInput": true,
                    "alwaysShowCalendars": true,
                    startDate: start,
                    endDate: end
                }, cb);

                cb(start, end);

            });

            // Calendar animation and visual settings
            $('#booking-date-search').on('show.daterangepicker', function(ev, picker) {
                $('.daterangepicker').addClass('calendar-visible calendar-animated bordered-style');
                $('.daterangepicker').removeClass('calendar-hidden');
            });
            $('#booking-date-search').on('hide.daterangepicker', function(ev, picker) {
                $('.daterangepicker').removeClass('calendar-visible');
                $('.daterangepicker').addClass('calendar-hidden');
            });

            $(window).on('load', function() {
                $('#booking-date-search').val('');
            });
        </script>

        <script>
            let deferredPrompt;
    
            // Detect the beforeinstallprompt event
            window.addEventListener('beforeinstallprompt', (e) => {
                // Prevent the mini-infobar from appearing
                e.preventDefault();
    
                // Save the event for triggering it later
                deferredPrompt = e;
    
                // Show and animate the install button
                const installButton = document.getElementById('install-button');
                installButton.style.display = 'block';
                installButton.classList.add('pop');
    
                // Add click event to trigger install prompt
                installButton.addEventListener('click', async () => {
                    installButton.style.display = 'none'; // Hide the button
                    if (deferredPrompt) {
                        deferredPrompt.prompt(); // Show the install prompt
    
                        // Wait for the user to respond to the prompt
                        const { outcome } = await deferredPrompt.userChoice;
                        console.log(`User choice: ${outcome}`);
    
                        // Clear the deferred prompt
                        deferredPrompt = null;
                    }
                });
            });
        </script>
    </body>

</html>